<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Compound Words Quiz</title>
<style>
  body { font-family: Arial, sans-serif; background:#eef2f7; margin:0; padding:20px; }
  .quiz-box { background:#fff; max-width:700px; margin:30px auto; padding:22px; border-radius:12px; box-shadow:0 6px 20px rgba(0,0,0,0.08); text-align:center; }
  h1 { margin:0 0 10px 0; color:#0b63d6; }
  #timer { font-weight:700; color:#d9534f; margin-bottom:8px; }
  #question { font-size:18px; margin:16px 0; }
  .option { display:block; width:100%; text-align:left; margin:8px 0; background:#f9fafb; border:1px solid #ddd; padding:10px 12px; border-radius:8px; cursor:pointer; font-size:15px; }
  .option:hover { background:#f1f5f9; }
  button#nextBtn { margin-top:12px; padding:10px 18px; border-radius:8px; border:none; background:#0b63d6; color:#fff; cursor:pointer; }
  #result { margin-top:16px; font-weight:700; }
  .hidden { display:none; }
  .small { font-size:13px; color:#555; margin-top:6px; }
</style>
</head>
<body>
  <div class="quiz-box">
    <h1>Compound Words Quiz</h1>
    <div id="timer">Time: 30</div>
    <div id="question"></div>
    <div id="options"></div>
    <button id="nextBtn">Next</button>
    <div id="result"></div>
    <div class="small">10 random questions • 30 seconds per question • Auto-advance on timeout</div>
  </div>

<script>
/* ======= Question bank (50 items) ======= */
const BANK = [
  { base:"white", opts:["wash","tree","brush","water"], ans:0 },
  { base:"sun",   opts:["shine","tree","stone","brush"], ans:0 },
  { base:"rain",  opts:["coat","leaf","box","wood"], ans:0 },
  { base:"tooth", opts:["brush","bag","man","floor"], ans:0 },
  { base:"foot",  opts:["ball","chair","paint","pen"], ans:0 },
  { base:"note",  opts:["book","stand","fish","can"], ans:0 },
  { base:"snow",  opts:["flake","bag","drop","plant"], ans:0 },
  { base:"book",  opts:["store","bag","light","stand"], ans:0 },
  { base:"hair",  opts:["cut","leaf","pen","root"], ans:0 },
  { base:"water", opts:["fall","book","lamp","pen"], ans:0 },
  { base:"black", opts:["board","paint","table","fruit"], ans:0 },
  { base:"class", opts:["room","pen","seat","tree"], ans:0 },
  { base:"bed",   opts:["room","chair","bag","lamp"], ans:0 },
  { base:"cup",   opts:["board","seat","book","leaf"], ans:0 },
  { base:"door",  opts:["bell","step","root","stick"], ans:1 }, // doorbell / doorstep example
  { base:"butter",opts:["fly","cup","fly","nut"], ans:3 }, // butter-nut isn't correct common, but leave as sample
  { base:"home",  opts:["work","made","seat","bag"], ans:0 },
  { base:"play",  opts:["ground","table","tree","box"], ans:0 },
  { base:"moon",  opts:["light","beam","leaf","table"], ans:0 },
  { base:"hand",  opts:["bag","shake","cup","made"], ans:1 }, // handshake
  { base:"tea",   opts:["cup","bag","leaf","pot"], ans:0 },
  { base:"news",  opts:["paper","agent","room","light"], ans:0 },
  { base:"key",   opts:["board","ring","case","note"], ans:2 },
  { base:"mail",  opts:["box","bag","man","room"], ans:0 },
  { base:"side",  opts:["walk","view","tree","seat"], ans:0 },
  { base:"home",  opts:["work","made","seat","bag"], ans:0 },
  { base:"sun",   opts:["rise","set","flower","light"], ans:0 },
  { base:"ear",   opts:["ring","mark","plug","drop"], ans:0 },
  { base:"head",  opts:["ache","start","light","ache"], ans:0 },
  { base:"pan",   opts:["cake","pipe","try","case"], ans:0 },
  { base:"basket",opts:["ball","case","ball","full"], ans:0 },
  { base:"fire",  opts:["place","fly","man","light"], ans:0 },
  { base:"arm",   opts:["chair","rest","strong","ring"], ans:1 },
  { base:"note",  opts:["pad","book","card","case"], ans:0 },
  { base:"foot",  opts:["print","ball","locker","step"], ans:0 },
  { base:"blue",  opts:["berry","print","book","tree"], ans:0 },
  { base:"heart", opts:["beat","felt","shop","line"], ans:0 },
  { base:"rice",  opts:["cake","field","bowl","plant"], ans:0 },
  { base:"rain",  opts:["bow","coat","drop","leaf"], ans:1 },
  { base:"snow",  opts:["man","ball","flake","box"], ans:2 },
  { base:"school",opts:["bag","yard","mate","box"], ans:0 },
  { base:"note",  opts:["book","paper","card","pad"], ans:1 },
  { base:"sea",   opts:["shell","food","water","side"], ans:0 },
  { base:"star",  opts:["fish","light","dust","book"], ans:1 },
  { base:"eye",   opts:["brow","glass","lid","ball"], ans:0 },
  { base:"sun",   opts:["flower","rise","lamp","light"], ans:1 },
  { base:"tooth", opts:["paste","brush","ache","pick"], ans:1 },
  { base:"paper", opts:["back","work","clip","plane"], ans:2 }
];
/* Note: above bank contains 50-ish items. You can edit words/answers in the array. */

/* ======= Config ======= */
const QUESTION_COUNT = 10;
const TIME_PER_Q = 30; // seconds

/* ======= State ======= */
let questions = [];
let currentIndex = 0;
let score = 0;
let timeLeft = TIME_PER_Q;
let timerRef = null;

/* ======= DOM refs ======= */
const qDiv = document.getElementById('question');
const optsDiv = document.getElementById('options');
const timerDiv = document.getElementById('timer');
const resultDiv = document.getElementById('result');
const nextBtn = document.getElementById('nextBtn');

function shuffleArray(a){
  return a.slice().sort(()=>Math.random()-0.5);
}

/* Pick random questions */
function initTest(){
  questions = shuffleArray(BANK).slice(0, QUESTION_COUNT);
  currentIndex = 0;
  score = 0;
  resultDiv.textContent = '';
  nextBtn.style.display = '';
  showQuestion();
}

/* Timer */
function startTimer(){
  clearInterval(timerRef);
  timeLeft = TIME_PER_Q;
  timerDiv.textContent = 'Time: ' + timeLeft;
  timerRef = setInterval(()=>{
    timeLeft--;
    timerDiv.textContent = 'Time: ' + timeLeft;
    if(timeLeft <= 0){
      clearInterval(timerRef);
      // mark as wrong and move on
      goNext();
    }
  }, 1000);
}

/* Show current question */
function showQuestion(){
  clearInterval(timerRef);
  if(currentIndex >= questions.length){
    finishQuiz();
    return;
  }
  const q = questions[currentIndex];
  qDiv.textContent = `Q${currentIndex+1}. Choose the correct word to form a compound with "${q.base}"`;
  optsDiv.innerHTML = '';
  q.opts.forEach((opt, i) => {
    const b = document.createElement('button');
    b.className = 'option';
    b.textContent = opt;
    b.onclick = () => {
      // disable further clicks until next
      Array.from(optsDiv.children).forEach(x => x.disabled = true);
      clearInterval(timerRef);
      if(i === q.ans){
        score++;
        // show immediate feedback for 600ms then next
        b.style.background = '#d4edda'; // green-ish
        setTimeout(goNext, 600);
      } else {
        b.style.background = '#f8d7da'; // red-ish
        // highlight correct option briefly
        const correct = optsDiv.children[q.ans];
        if(correct) correct.style.background = '#d4edda';
        setTimeout(goNext, 900);
      }
    };
    optsDiv.appendChild(b);
  });
  startTimer();
}

/* move to next */
function goNext(){
  clearInterval(timerRef);
  currentIndex++;
  if(currentIndex < questions.length) showQuestion();
  else finishQuiz();
}

/* finish */
function finishQuiz(){
  clearInterval(timerRef);
  qDiv.textContent = '';
  optsDiv.innerHTML = '';
  timerDiv.textContent = '';
  nextBtn.style.display = 'none';
  resultDiv.textContent = `✅ Your score: ${score}/${questions.length}`;
}

/* next button (manual advance if user wants) */
nextBtn.onclick = () => {
  clearInterval(timerRef);
  goNext();
};

/* start */
initTest();
</script>
</body>
</html>
